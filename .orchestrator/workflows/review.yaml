name: code-review
description: 完整代码审查流水线
stages:
  - name: explore
    agent: explorer
    description: 搜索相关代码和依赖
    output: .orchestrator/results/explore-output.md

  - name: review
    agent: reviewer
    description: 深度代码审查
    input: .orchestrator/results/explore-output.md
    output: .orchestrator/results/review-output.md

  - name: fix
    agent: backend-coder
    description: 修复审查发现的问题
    input: .orchestrator/results/review-output.md
    output: .orchestrator/results/fix-output.md

  - name: verify
    agent: reviewer
    description: 验证修复结果
    input: .orchestrator/results/fix-output.md
    output: .orchestrator/results/verify-output.md
